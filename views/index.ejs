<!-- include header -->
<%- include('header') %>
    <!-- /include header -->
    <style>
        #field {
            height: 200px;
            width: 200px;
            background: orange;
            float: left;
            margin-left: 2px;
            border: 1px solid #ccc;
        }

        #field1 {
            height: 200px;
            width: 200px;
            background: black;
            float: left;
            margin-left: 2px;
            border: 1px solid #ccc;
        }


        .d {
            padding-left: 30%;
        }

        #t {
            background-color: black;
            color: white;
            border: none;
            align-content: center;
            margin-top: 5%;
            margin-left: 145;
            border-radius: 5px;
            padding-left: 2%;
            padding-top: 2%;
            padding-bottom: 2%;
            padding-right: 2%;
        }

        #s {
            background-color: rgb(52, 184, 107);
            color: rgb(19, 15, 15);
            border: none;
            align-content: center;
            margin-top: 5%;
            border-radius: 5px;
            padding-left: 2%;
            padding-top: 2%;
            padding-bottom: 2%;
            padding-right: 2%;
        }

        .k {
            background-color: black;
            text-align: center;
            color: white;
            font-size: 25px;
            height: 50px;
        }

        .foot {
            position: fixed;
            bottom: 0;
            background-color: black;
            text-align: center;
            color: white;
            width: 100%;
            font-size: 25px;
            height: 50px;

        }

        article {
            position: absolute;
            left: 50%;
            top: 50%;
            margin-left: -220px;
            margin-top: -120px;
        }

        .form-group1 {
            text-align: left;
            align-content: center;
            margin-left: -17;
        }
        .p{
            align-items: center;
        }
    </style>

    <script>
        // const axios = require('axios');
        let colorElement1 = document.getElementById("field1");


        // var locarr = [
        //     {
        //         Name: 'Colden Hall',
        //         type: 'circle',
        //         coordinate: [
        //             {
        //                 latitude: 40.35108979954159,
        //                 longitude: -94.88241248675814
        //             }
        //         ],

        //     },
        //     {
        //         Name: 'Horizons West Apartments',
        //         type: 'circle',
        //         coordinate: [
        //             {
        //                 latitude: 41.31447748801441,
        //                 longitude: -95.05660917970772
        //             }
        //         ]

        //     },
        //     {
        //         Name: 'B.D Owens Library',
        //         type: 'circle',
        //         coordinate: [
        //             {
        //                 latitude: 40.353523,
        //                 longitude: -94.886021
        //             }
        //         ]

        //     }
        // ]

        function getLocations(){
           axios.get('https://locandyy.herokuapp.com/location').then(res => {
               console.log(res,"--response is here--")
           }).catch(e => {console.log(e, "--error is here--")})
        }


        window.addEventListener('load', main);
        // colorElement.addEventListener('click', onClickSquareBox2);
        // colorElement.addEventListener('touch', onClickSquareBox2);
        colorElement.addEventListener('click', onClickSquareBox1);
        colorElement.addEventListener('touch', onClickSquareBox1);

        function main() {
            console.log('Page is fully loaded');
        }

        function onClickSquareBox1() {
            getLoc()
            const random = Math.floor(Math.random() * locarr.length);
            console.log(random, 'Page is fully loaded');
            document.getElementById("targetloc").innerHTML = "The Location selceted is " + locarr[random].Name;
            // document.getElementById("lbl").innerHTML = targetLoc.Name;
            let utterance = new SpeechSynthesisUtterance(`The location to be found is ${locarr[random].Name}`);
            speechSynthesis.speak(utterance);
            document.getElementById("device-lat").innerHTML = targetLoc.coordinates[0].latitude;
            document.getElementById("device-long").innerHTML = targetLoc.coordinates[1].longitude;
            console.log("---sumanth is here---")
        }

    </script>

    <body>

        <header>
            <div class="k">Locandyy</div>
        </header>

        <link rel="apple-touch-icon" sizes="180x180" href="favicon_package_v0.16/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon_package_v0.16/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon_package_v0.16/favicon-16x16.png">
        <main>
            <article>
                <div>
                    <div id="container">
                        <a id="field" href="https://locandyy.herokuapp.com/location">
                            <div id="targetloc"></div>
                            <div id="lbl"></div>
                            <%= v.locationName %>
                            <br />
                            <div id="device-lat1"></div>
                            <br />
                            <div id="device-long1"></div>
                        </a>
                              
                    </a>
                        <div id="field1">

                        </div>
                        <br />
                    </div>
                    <!-- <div class = "d">
                        <button type="button" class="btn btn-black" onclick="productUpdate();">Add locations</button>
                    </div> -->
                    <br>
                    <br>
                    <div class ="p">
                        <div class="form-group">
                            <form action="https://locandyy.herokuapp.com/locations/create">
                                <input type="submit" value="Add Location" id="t" />
                            </form>
                        </div>
                        <div class="form-group1">
                            <form action="https://locandyy.herokuapp.com/locations/">
                                <input type="submit" value="Display Locations" id="t" />
                            </form>
                        </div>
                    </div>

                    <!-- <div class = "d">
                        <button type="button" class="btn btn-black" onclick="displays()">Add locations</button>
                    </div> -->
                </div>
                </div>
            </article>
        </main>
        <!-- <script type="module" src="./scripts/main.js "></script> -->
        <script type="module" src="../public/scripts/main.js"></script>
        <script type="module " src="../services.js"></script>
        <link href="../public/Styles/main.css" rel="stylesheet" type="text/css">
    </body>
    <br>
    <footer class="foot">

        <a href="https://github.com/Chandupolisetty/Locandyy">
            <i class="fab fa-github "></i> GitHub</a>
    </footer>